import React from "react";
import { Link } from "react-static";
import styled, { css } from "react-emotion";
import AppBar from "@material-ui/core/AppBar";
import Toolbar from "@material-ui/core/Toolbar";
import Button from "@material-ui/core/Button";
import IconButton from "@material-ui/core/IconButton";
import MenuIcon from "@material-ui/icons/Menu";
import Drawer from "@material-ui/core/Drawer";
import List from "@material-ui/core/List";
import Divider from "@material-ui/core/Divider";

/* Images */
import logo from "../assets/logo.png";

const navigationStyle = css`
  a:not(:last-child) {
    margin-right: 2rem;
  }
  a {
    text-decoration: none;
    text-transform: uppercase;
  }
  a:hover {
    background-color: #ffdfe8;
  }
  .MuiButton-outlined-10 {
    border: 1px solid rgba(255, 111, 150, 0.5);
  }
`;

const navigationMobileStyle = css`
  width: 100%;
  &:hover {
    background-color: #ffdfe8;
  }
`;

const toolBarStyle = css`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 5rem;
  background-color: #fafafa;
  box-shadow: none !important;
`;

const toolBarLogo = css`
  display: flex;
  align-items: center;
  white-space: nowrap;

  @media (max-width: 450px) {
    h1 {
      font-size: 1.5rem;
    }
  }

  img {
    margin-right: 1rem;
  }
`;

const AppBarStyled = styled(AppBar)`
  box-shadow: none;
  background-color: #fafafa !important;
  box-shadow: none !important;
  margin-top: 1rem;
`;

const Title = styled("h1")`
  font-family: "Pacifico", cursive;
  font-style: normal;
  font-weight: normal;
  color: #272727;
`;

class Navigation extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      width: typeof window !== "undefined" ? window.innerWidth : 0,
      right: false
    };
  }

  componentDidMount() {
    if (typeof window !== "undefined") {
      window.addEventListener("resize", this.handleWindowSizeChange);
    }
  }

  componentWillUnmount() {
    if (typeof window !== "undefined") {
      window.removeEventListener("resize", this.handleWindowSizeChange);
    }
  }

  handleWindowSizeChange = () => {
    if (typeof window !== "undefined") {
      this.setState({ width: window.innerWidth });
    }
  };

  toggleDrawer = (side, open) => () => {
    this.setState({
      [side]: open
    });
  };

  renderDesktop() {
    return (
      <div className={navigationStyle}>
        <Button component={Link} exact to="/">
          Home
        </Button>
        <Button component={Link} exact to="/blog">
          Blog
        </Button>
        <Button component={Link} exact to="/about" variant="outlined">
          Contactos
        </Button>
      </div>
    );
  }

  renderMobile() {
    const sideList = (
      <div
        className={css`
          width: 10rem;
          text-align: center;
          /* margin-top: 1rem; */
          height: calc(100% - 1rem);
          padding: 1rem 0;
          display: flex;
          flex-direction: column;
          justify-content: space-evenly;
        `}
      >
        <div>
          <List>
            <img src={logo} alt="Logo" />
          </List>
          {/* <Divider /> */}
          <List>
            <Button
              component={Link}
              exact
              to="/"
              className={navigationMobileStyle}
            >
              Home
            </Button>
          </List>
          {/* <Divider /> */}
          <List>
            <Button
              component={Link}
              exact
              to="/blog"
              className={navigationMobileStyle}
            >
              Blog
            </Button>
          </List>
          {/* <Divider /> */}
        </div>
        <div
          className={css`
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            a:not(:last-child) {
              margin-right: 1rem;
            }
          `}
        >
          <a href="https://www.facebook.com/pg/bebesdeencantar/feed" alt="facebook bebes de encantar link">
            <svg
              width="33"
              height="30"
              viewBox="0 0 33 30"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M0.6248 30H11.2933C11.638 30 11.9181 29.721 11.9181 29.3769V27.5973L13.941 27.5815C16.4655 29.6885 19.1158 29.8194 19.5888 29.8256C19.8128 29.8464 21.3385 29.9781 23.2188 29.9781C27.6943 29.9781 30.2441 29.2786 31.0138 27.8404C31.354 27.2053 31.3309 26.4835 30.9478 25.6893C31.8054 25.1539 32.3015 24.4917 32.4254 23.7133C32.5747 22.7783 32.124 21.9343 31.7464 21.4158C32.256 20.9397 32.9468 20.1049 32.9971 19.0456C33.0378 18.1798 32.6561 17.3603 31.8615 16.606C32.5838 14.8581 32.6033 13.4324 31.9183 12.3632C31.0706 11.0407 29.2219 10.37 26.4227 10.37C25.2523 10.37 24.1439 10.4878 23.3618 10.5986C24.1124 8.60355 25.4423 4.27892 23.976 1.80927C23.3328 0.72583 22.2607 0.117742 20.7893 0.00182821C20.7731 0.000731242 20.7566 -1.1438e-07 20.7405 -1.1438e-07C19.7311 -1.1438e-07 19.3442 1.20045 18.7029 3.19036C17.6957 6.31673 16.2125 10.9101 11.9174 13.0013V11.5014C11.9174 11.1573 11.6376 10.8787 11.2926 10.8787H0.6248C0.279767 10.8787 0 11.1569 0 11.5014V29.3773C0 29.7214 0.279767 30 0.6248 30ZM19.8928 3.57065C20.189 2.65138 20.5542 1.51894 20.8047 1.25384C21.7998 1.35586 22.4862 1.74565 22.9013 2.44296C24.2128 4.65116 22.5471 9.47163 21.7939 11.1423C21.6975 11.3562 21.7298 11.606 21.8772 11.7884C22.0242 11.9705 22.2611 12.0565 22.4917 12.0078C22.5104 12.0042 24.3973 11.6162 26.4231 11.6162C28.0353 11.6162 30.1151 11.8619 30.866 13.0342C31.3621 13.808 31.2525 14.9777 30.5397 16.512C30.4194 16.7709 30.4905 17.0784 30.7131 17.2579C31.4259 17.8331 31.7746 18.4134 31.7497 18.9835C31.7049 20.0059 30.5261 20.8092 30.5162 20.8165C30.3578 20.9207 30.2562 21.0919 30.2394 21.2809C30.2229 21.4696 30.2933 21.6553 30.4308 21.7862C30.6647 22.0078 31.306 22.8028 31.192 23.5187C31.1098 24.0317 30.6482 24.4921 29.8192 24.8866C29.656 24.9645 29.5339 25.109 29.4862 25.2838C29.4378 25.4585 29.4686 25.645 29.5695 25.7949C29.9845 26.4125 30.0993 26.9032 29.9119 27.2543C29.4166 28.1798 26.9144 28.7326 23.2188 28.7326C21.2865 28.7326 19.6959 28.5853 19.6805 28.5838C19.6607 28.582 19.6313 28.5805 19.6115 28.5805C19.5034 28.5805 16.9437 28.5575 14.5816 26.4893C14.4676 26.3895 14.3213 26.3347 14.1695 26.3347C14.168 26.3347 14.1662 26.3347 14.1647 26.3347L11.9181 26.3522V14.3696C17.1182 12.1738 18.8434 6.82756 19.8928 3.57065Z"
                fill="#ff6f96"
              />
            </svg>
          </a>
          <a href="https://www.instagram.com/bebesdeencantar/" alt="instagram bebes de encantar link">
            <svg
              width="33"
              height="33"
              viewBox="0 0 33 33"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M24.2647 0H8.73529C6.41855 0 4.19669 0.920323 2.55851 2.55851C0.920323 4.19669 0 6.41855 0 8.73529V24.2647C0 26.5814 0.920323 28.8033 2.55851 30.4415C4.19669 32.0797 6.41855 33 8.73529 33H24.2647C26.5814 33 28.8033 32.0797 30.4415 30.4415C32.0797 28.8033 33 26.5814 33 24.2647V8.73529C33 6.41855 32.0797 4.19669 30.4415 2.55851C28.8033 0.920323 26.5814 0 24.2647 0V0ZM31.0588 24.2647C31.0588 26.0666 30.343 27.7947 29.0689 29.0689C27.7947 30.343 26.0666 31.0588 24.2647 31.0588H8.73529C6.93338 31.0588 5.20527 30.343 3.93113 29.0689C2.65698 27.7947 1.94118 26.0666 1.94118 24.2647V8.73529C1.94118 6.93338 2.65698 5.20527 3.93113 3.93113C5.20527 2.65698 6.93338 1.94118 8.73529 1.94118H24.2647C26.0666 1.94118 27.7947 2.65698 29.0689 3.93113C30.343 5.20527 31.0588 6.93338 31.0588 8.73529V24.2647Z"
                fill="#ff6f96"
              />
              <path
                d="M7.76471 0C6.229 0 4.72777 0.455393 3.45087 1.30859C2.17397 2.16179 1.17875 3.37447 0.591056 4.79328C0.00336361 6.2121 -0.150403 7.77332 0.149199 9.27952C0.448802 10.7857 1.18832 12.1693 2.27423 13.2552C3.36015 14.3411 4.74369 15.0806 6.24989 15.3802C7.7561 15.6798 9.31732 15.5261 10.7361 14.9384C12.1549 14.3507 13.3676 13.3554 14.2208 12.0785C15.074 10.8016 15.5294 9.30042 15.5294 7.76471C15.5294 5.70538 14.7114 3.73039 13.2552 2.27423C11.799 0.818065 9.82404 0 7.76471 0V0ZM7.76471 13.5882C6.61292 13.5882 5.487 13.2467 4.52933 12.6068C3.57166 11.9669 2.82524 11.0574 2.38447 9.99327C1.9437 8.92916 1.82837 7.75825 2.05308 6.62859C2.27778 5.49894 2.83242 4.46128 3.64685 3.64685C4.46129 2.83241 5.49894 2.27778 6.6286 2.05307C7.75825 1.82837 8.92917 1.9437 9.99328 2.38447C11.0574 2.82523 11.9669 3.57165 12.6068 4.52933C13.2467 5.487 13.5882 6.61292 13.5882 7.76471C13.5882 9.3092 12.9747 10.7904 11.8826 11.8826C10.7904 12.9747 9.30921 13.5882 7.76471 13.5882Z"
                transform="translate(8.73529 8.73529)"
                fill="#ff6f96"
              />
              <path
                d="M1.94118 0C1.55725 0 1.18194 0.113848 0.862717 0.327147C0.543492 0.540447 0.294687 0.843617 0.147764 1.19832C0.000840901 1.55302 -0.0376009 1.94333 0.0372999 2.31988C0.112201 2.69643 0.29708 3.04232 0.568559 3.3138C0.840037 3.58527 1.18592 3.77015 1.56247 3.84505C1.93902 3.91995 2.32933 3.88151 2.68403 3.73459C3.03874 3.58767 3.34191 3.33886 3.55521 3.01964C3.76851 2.70041 3.88235 2.3251 3.88235 1.94118C3.88235 1.42634 3.67784 0.932599 3.3138 0.568558C2.94976 0.204517 2.45601 0 1.94118 0Z"
                transform="translate(23.2941 5.82352)"
                fill="#ff6f96"
              />
            </svg>
          </a>
          <a href="https://bebesdeencantar.blogspot.com/" alt="Blogger Link to Bebes de encantar">
            <svg
              width="33"
              height="33"
              viewBox="0 0 33 33"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M5.53705 33H27.4629C28.9298 32.9945 30.335 32.4094 31.3722 31.3722C32.4094 30.335 32.9945 28.9298 33 27.4629V5.53705C32.9945 4.07023 32.4094 2.66504 31.3722 1.62783C30.335 0.59062 28.9298 0.00549037 27.4629 0H5.53705C4.07023 0.00549037 2.66504 0.59062 1.62783 1.62783C0.59062 2.66504 0.00549037 4.07023 0 5.53705V27.4629C0.00549037 28.9298 0.59062 30.335 1.62783 31.3722C2.66504 32.4094 4.07023 32.9945 5.53705 33ZM1.73684 5.53705C1.74232 4.53086 2.14445 3.56744 2.85595 2.85595C3.56744 2.14445 4.53086 1.74232 5.53705 1.73684H27.4629C28.4691 1.74232 29.4326 2.14445 30.1441 2.85595C30.8555 3.56744 31.2577 4.53086 31.2632 5.53705V27.4629C31.2577 28.4691 30.8555 29.4326 30.1441 30.1441C29.4326 30.8555 28.4691 31.2577 27.4629 31.2632H5.53705C4.53086 31.2577 3.56744 30.8555 2.85595 30.1441C2.14445 29.4326 1.74232 28.4691 1.73684 27.4629V5.53705Z"
                fill="#ff6f96"
              />
              <path
                d="M3.2361 6.4541C3.95104 6.4521 4.64507 6.21273 5.20924 5.77358C5.77342 5.33444 6.17579 4.72037 6.35319 4.02778C6.53059 3.3352 6.47297 2.60331 6.18938 1.94702C5.90579 1.29073 5.41229 0.747189 4.78635 0.401732C4.16041 0.0562753 3.43747 -0.0715386 2.73102 0.0383563C2.02458 0.148251 1.37462 0.489632 0.883199 1.00891C0.391774 1.52818 0.0867034 2.19594 0.015878 2.90737C-0.0549475 3.6188 0.112483 4.3336 0.491885 4.93957C0.781935 5.40532 1.18642 5.78903 1.66679 6.05414C2.14716 6.31926 2.68743 6.45695 3.2361 6.4541V6.4541ZM1.77715 2.8901C1.8525 2.56111 2.03704 2.26734 2.30072 2.05665C2.56439 1.84597 2.89164 1.73079 3.22915 1.72989C3.34603 1.72908 3.4626 1.74191 3.57652 1.7681C3.86454 1.83399 4.12655 1.98382 4.32941 2.19864C4.53227 2.41346 4.66686 2.68362 4.71616 2.97494C4.76546 3.26627 4.72725 3.56567 4.60637 3.83527C4.48549 4.10488 4.28736 4.33257 4.03705 4.48956C3.78675 4.64655 3.4955 4.72578 3.20016 4.71722C2.90482 4.70867 2.61865 4.61271 2.37785 4.4415C2.13705 4.27028 1.95244 4.03149 1.84737 3.75534C1.7423 3.47919 1.72149 3.17808 1.78757 2.8901H1.77715Z"
                transform="translate(5.21887 21.325)"
                fill="#ff6f96"
              />
              <path
                d="M0.868421 5.90179H2.95263C3.80453 5.90271 4.62128 6.24153 5.22366 6.84392C5.82605 7.4463 6.16487 8.26305 6.16579 9.11495V11.1992C6.16579 11.4295 6.25728 11.6504 6.42014 11.8132C6.583 11.9761 6.80389 12.0676 7.03421 12.0676H11.2026C11.433 12.0676 11.6538 11.9761 11.8167 11.8132C11.9796 11.6504 12.0711 11.4295 12.0711 11.1992V9.11495C12.0683 6.69776 11.1066 4.38041 9.39707 2.67153C7.68753 0.96264 5.36982 0.0018388 2.95263 1.06008e-07H0.868421C0.638102 1.06008e-07 0.417215 0.0914935 0.254355 0.254354C0.0914942 0.417215 5.30042e-08 0.638102 5.30042e-08 0.868421V5.03684C0.000918929 5.26656 0.0928187 5.48655 0.25558 5.64866C0.418341 5.81077 0.638702 5.90179 0.868421 5.90179V5.90179ZM1.73684 1.73337H2.94916C4.90539 1.73521 6.78097 2.51313 8.16423 3.8964C9.5475 5.27966 10.3254 7.15524 10.3273 9.11147V10.3273H7.89568V9.11147C7.89385 7.80074 7.37258 6.54416 6.44608 5.617C5.51957 4.68985 4.26337 4.1677 2.95263 4.16495H1.73684V1.73337Z"
                transform="translate(7.49969 13.4362)"
                fill="#ff6f96"
              />
              <path
                d="M0.868421 5.90179H2.95263C4.45343 5.90179 5.93954 6.1974 7.3261 6.77173C8.71266 7.34606 9.97252 8.18787 11.0337 9.2491C12.095 10.3103 12.9368 11.5702 13.5111 12.9567C14.0854 14.3433 14.3811 15.8294 14.3811 17.3302V19.4144C14.3811 19.6447 14.4725 19.8656 14.6354 20.0285C14.7983 20.1913 15.0192 20.2828 15.2495 20.2828H19.4214C19.6517 20.2828 19.8726 20.1913 20.0354 20.0285C20.1983 19.8656 20.2898 19.6447 20.2898 19.4144V17.3302C20.2898 15.0538 19.8413 12.7997 18.9699 10.6966C18.0986 8.59357 16.8214 6.68279 15.2114 5.07345C13.6014 3.4641 11.6901 2.18771 9.58675 1.31719C7.48335 0.446675 5.22905 -0.000910945 2.95263 1.63118e-06H0.868421C0.638102 1.63118e-06 0.417215 0.0914957 0.254355 0.254356C0.0914942 0.417217 5.30042e-08 0.638103 5.30042e-08 0.868423V5.02642C5.30042e-08 5.25674 0.0914942 5.47763 0.254355 5.64049C0.417215 5.80335 0.638102 5.89484 0.868421 5.89484V5.90179ZM1.73684 1.73337H2.94916C4.99704 1.73291 7.02494 2.13594 8.91702 2.91941C10.8091 3.70289 12.5283 4.85147 13.9764 6.29954C15.4244 7.74761 16.573 9.46679 17.3565 11.3589C18.14 13.251 18.543 15.2789 18.5425 17.3267V18.5391H16.1109V17.3267C16.1109 13.8351 14.7239 10.4865 12.2549 8.01749C9.78596 5.54853 6.43733 4.16148 2.94568 4.16148H1.73684V1.73337Z"
                transform="translate(7.49969 5.22095)"
                fill="#ff6f96"
              />
            </svg>
          </a>
        </div>
      </div>
    );

    return (
      <IconButton color="inherit" aria-label="Menu">
        <MenuIcon onClick={this.toggleDrawer("right", true)} />
        <Drawer
          anchor="right"
          open={this.state.right}
          onClose={this.toggleDrawer("right", false)}
        >
          <div
            tabIndex={0}
            role="button"
            onClick={this.toggleDrawer("right", false)}
            onKeyDown={this.toggleDrawer("right", false)}
            className={css`height: 100%;`}
          >
            {sideList}
          </div>
        </Drawer>
      </IconButton>
    );
  }

  render() {
    const { width } = this.state;
    const isMobile = width <= 1050;
    return (
      <AppBarStyled position="static" color="default">
        <Toolbar className={toolBarStyle}>
          <div className={toolBarLogo}>
            <img src={logo} alt="Logo" />
            <Title>Bebés de encantar</Title>
          </div>
          {isMobile ? this.renderMobile() : this.renderDesktop()}
        </Toolbar>
      </AppBarStyled>
    );
  }
}

export default Navigation;
